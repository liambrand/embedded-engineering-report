\documentclass[]{report}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amsmath,amssymb}
\usepackage[numbers]{natbib}


% Title Page
\title{CM0605 - Embedded Systems Engineering}
\author{Liam Brand}
\date{}


\begin{document}
\maketitle

	\chapter{Real Time Scheduling}
		\subsection{Basic Scheduling Analysis}
			\subsubsection{(a)}
			The utilisation of a task set is given by
			
			\begin{equation*}
				U = \sum_{i=1}^{N} \frac{C\textsubscript{i}}{T\textsubscript{i}}
			\end{equation*}
			%equation
			
			Where N is the number of tasks, C is the task's worst-case execution time and T is the task's period. The given task set's utilization is approximately 0.99.
			
			\subsubsection{(b)}
			A set of given tasks can be proved to be or not be schedulable using rate-monotonic priority assignment by using the utilisation-bound theorem. If the test is positive and the CPU utilisation is below the given bound, the set is schedulable.
			
			\begin{equation*}
			U = U = \sum_{i=1}^{N} \frac{C\textsubscript{i}}{T\textsubscript{i}} \leq n(2^\frac{1}{n} - 1)
			\end{equation*}
			As previously discussed, the set's CPU utilisation is around 0.99. The given task set has 6 tasks, so the utilisation bound is around 0.73. This test is therefore false, meaning the task set is not schedulable using rate-monotonic priority assignment.
			
			%First a utilisation-based schedulability test can be used to determine whether or not the task set is schedulable using rate-monotonic priority assignment.
			
			%The necessary test is the following. If this test is negative, the task set is definitely not schedulable.
			%\begin{equation*}
			%U \leq 1
			%\end{equation*}
			
			%The test is positive, so the sufficient schedulability test can be carried about. The sufficient test is the following, where \textit{n} is the number of tasks.
			
			%\begin{equation*}
			%U \leq n(2^\frac{1}{n} - 1)
			%\end{equation*}
			
			%For the given task set with 6 tasks, this formula equals approximately 0.73, meaning this test is negative. If the necessary schedulability test is positive but the sufficient schedulability test is negative, a better schedulability test is needed. 
			
			\subsubsection{(c)}
			First the WCRT (worst case response time) for the task set must be calculated. This can be achieved via the given formula.
			\begin{equation*}
			R_i = C_i + \sum_{j \in hp(i)} \left\lceil \frac{R_i}{T_j} \right\rceil C_j
			\end{equation*}
			
			Where R is response time, C is cpu utilisation, and hp(i) denotes the set of tasks of priority higher than i.

			This calculation is repeated for each task until the calculate task response time converges twice. The following shows each iteration of this formula being applied to the task set.

		\textbf{Iteration 1}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 250
		B(C=72, T=720, D=660): r = 342
		F(C=18, T=4800, D=120): r = 360

		\textbf{Iteration 2}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 412
		F(C=18, T=4800, D=120): r = 430


		\textbf{Iteration 3}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 558
		F(C=18, T=4800, D=120): r = 576

		\textbf{Iteration 4}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 606
		F(C=18, T=4800, D=120): r = 624

		\textbf{Iteration 5}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 620
		F(C=18, T=4800, D=120): r = 638

		\textbf{Iteration 6}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 620
		F(C=18, T=4800, D=120): r = 652

		\textbf{Iteration 7}
		E(C=14, T=48, D=48): r = 14
		C(C=6, T=240, D=240): r = 20
		A(C=42, T=330, D=60): r = 76
		D(C=132, T=360, D=300): r = 270
		B(C=72, T=720, D=660): r = 620
		F(C=18, T=4800, D=120): r = 652
			
			The final iteration shows that the task set is schedulabe, as each of the task periods are less than or equal to the task response times. However, tasks A and F have a response time that exceeds their deadline, so these tasks will not meet their deadline.
			
			
			
			\subsubsection{Question d}
			The same calculations were performed as the ones in (c), but this time the tasks were organised by deadline (lowest to highest) instead of by their period. Each iteration is shown.

			\textbf{Iteration 1}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 268
			B(C=72, T=720, D=660): r = 360

			\textbf{Iteration 2}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 430

			\textbf{Iteration 3}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 576


			\textbf{Iteration 4}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 624

			\textbf{Iteration 5}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 638

			\textbf{Iteration 6}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 652


			\textbf{Iteration 7}
			E(C=14, T=48, D=48): r = 14
			A(C=42, T=330, D=60): r = 70
			F(C=18, T=4800, D=120): r = 88
			C(C=6, T=240, D=240): r = 94
			D(C=132, T=360, D=300): r = 288
			B(C=72, T=720, D=660): r = 652
		
			The final iteration shows that each task's response time satisfies the condition of being less than or equal to the task period, so the set is schedulable using deadline-monotonic fixed-priority assignment. Task A's response time is higher than its deadline however, so it will not meet its deadline.
			
			\subsubsection{Question e}
		
		\subsection{Scheduling with Shared Resources}
			\subsubsection{Question a}
			\subsubsection{Question b}
			% give notes on when task resources are released and tasks are blocked, e.g. at clock cycle 4, resource T is acquired by Task A
	
	\chapter{A Distributed Real-time System}
		
	
	
	\chapter{Reliability}
		\section{Section 1}
			\subsection{(a)}
				\subsubsection{Fail-Operational}
				Fail-operational is when a system is still capable of full performance in the presence of faults, with no external signs of the fault manifesting. 
				
				\subsubsection{Fail-Active}
				Fail-active systems can continue their operation when a fault is encountered, but will do so at a reduced performance. This is the least applicable system to the production line, as a reduced performance will result in a lower production quality and the possibiliy of the system's mission goals not being met, but also the possibility of personnel being injured. 
				
				\subsubsection{Fail-Safe}
				Fail-safe systems will cease operation upon encountering a fault, and enter a safe mode. For the car production line, this will completely minimize risk to human life but production will suffer the most as each encountered fault will result in the system entering its safe mode. Restarting the system and bringing it back to full operational capacity could take a while, and this will result in a potential failure of the system's mission objectives.
				
				\subsubsection{High Availability}
				High availability systems cease operation upon encountering a fault, but must be returned to operation as quick as possible, this can involve hot swapping system units whilst the system is operating. These systems allow for failures, and aim to achieve a high mean time of operation rather than a long continuous time of operation. The goal here is not to avoid faults, but to minimize time spent rectifying them so that the overall system operation time is as high as possible\cite{gray1991high}. The availability of these system can be measured by the following, where MTBF is mean time between failures and MTTR is mean time to repair.
				\begin{equation*}
				Availability = MTBF/(MTBF + MTTR)
				\end{equation*}
				
				Out of the different types of fault-tolerance, high-availability would be the most appropriate for the car assembly line. Whilst this will result in a lower amount of continuous operation time, as long as the mean operation is as high as possible (which high-availability aims to achieve) production goals should still be satisfied and the production line's mission shouldn't be impeded. High-availability also allows for shutdowns when faults are encountered, which is an imperative feature of the assembly line's fault tolerance given the potential for harm to come to personnel.
			
			\subsection{(b)}
				\subsubsection{Potential Risks}
				The nature of the car assembly line means any single failure will cause the entire system to fail, so in terms of the network only a single connected node in the distributed system needs to experience a problem for the entire system to stop working. 
				
				Timing will also be essential within the assembly line to ensure the robotic tools perform their jobs properly, so there is a risk of performance overhead negatively impacting the system too. Networked processors that are in close proximity will communicate incredibly quickly, but processors that are further away from the network will take longer to communicate and this will need to be accounted for otherwise tools may not behave as expected and, should any issues occur, the entire system will fail as previously discussed. In a similar vain, timing will need to be considered to ensure that all operations across the network are in synchronisation with each other. Messages arriving on time is a good start, but this doesn't guarantee that all of the production line robotics are cooperating as expected.
				
				There is also the possibility for the system's data to encounter issues, such as addressing errors where nodes send or receive messages that are intended for a different node. The data itself could also be corrupted during its transmission.
				
				\subsubsection{Architecture Recommendation}
						
			
			\subsection{Question c}
			One hardware risk with the production line components is the contents of the ROM becoming corrupted by electronic pulses or radiation.


	\bibliographystyle{plainnat}
	\bibliography{papers}

\end{document}          
